<header id="header" class="d-flex align-items-center" style="margin-bottom: -30px;">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between" style="margin-left: -10px;">
        <a href="home" class="image d-flex align-items-center">
          <img class="logocompany"/>
        </a>
        <a class="nav-item" href="inicio" (click)="logOut()" style="margin-bottom: 59px;">Salir</a>
    </div>

</header>
<!-- <div class="ml-5" style="width: 92%;">
    <div class="row mt-5" *ngIf="alert.show">
        <div class="col-sm-12 col-md-6 mx-auto">
            <ngb-alert *ngIf="alert.show" [type]="alert.type" (close)="alert.show = false;">{{ alert.message | translate }}</ngb-alert>
        </div>
    </div>-->
<form [formGroup]="financing_form">
  <div class="card-propietary ml-4">
    <div class="title">
        <p class="title-text">
            Información del Propietario
        </p>
    </div>
    <div class="data">
      <div class="range">
          <div class="fill" style="margin-top: -15px;">
          </div>
      </div>

        <div class="row">
          <div class="col-lg-3">
              <div class="form-outline">
                  <strong class="form-label" for="form3Examplev5">Propietarios</strong>
                  <div >
                  <ng-autocomplete  [data]="propietaryList" [searchKeyword]="keyword" 
                                  placeholder="Seleccionar Propietario" (selected)='getSearchVehicle($event)'
                                  [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">                                 
                  </ng-autocomplete>
              
                  <ng-template #itemTemplate let-item >
                      <a [innerHTML]="item.value"></a>
                  </ng-template>
              
                  <ng-template #notFoundTemplate let-notFound  >
                      <div [innerHTML]="notFound"></div>
                  </ng-template>
                </div>
              </div>
          </div> 
          <div class="col-lg-3">
            <div class="form-outline">
                <strong class="form-label" for="form3Examplev5">Vehículo del Propietario</strong>
                <div >
                <ng-autocomplete  [data]="vehiclePropietaryList" [searchKeyword]="keyword" 
                                placeholder="Seleccionar Vehiculo" (selected)='getSearchInfoPropietary($event)'
                                [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">                                 
                </ng-autocomplete>
            
                <ng-template #itemTemplate let-item >
                    <a [innerHTML]="item.value"></a>
                </ng-template>
            
                <ng-template #notFoundTemplate let-notFound  >
                    <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>    
            </div>
          </div> 
          <div class="col-lg-2">
              <div class="form-outline form-white">
                <strong class="form-label required" for="form3Examplea8">Identificación</strong>
                <p class="mt-3">{{documento}}</p>
              </div>
          </div>
          <div class="col-lg-2">
              <div class="form-outline form-white">
                <strong class="form-label required" for="form3Examplea8">Teléfono</strong>
                  <p class="mt-3">{{telefono}}</p>
              </div>
          </div>
          <div class="col-lg-2">
              <div class="form-outline form-white">
                <strong class="form-label required" for="form3Examplea8">Correo</strong>
                  <p class="mt-3 text-lowercase">{{correo}}</p>
              </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-lg-3">
              <div class="form-outline form-white">
                <strong class="form-label required" for="form3Examplea8">Modelo - Versión</strong>
                  <p class="mt-3 text-lowercase">{{detallecarro}}</p>
              </div>
          </div>
          <div class="col-lg-3">
            <div class="form-outline">
                <strong class="form-label" for="form3Examplev5">Estado</strong>
                <div >
                <ng-autocomplete  [data]="stateList" [searchKeyword]="keyword" 
                                placeholder="Seleccionar Estado" (selected)='getStateCode($event)'
                                [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">                                 
                </ng-autocomplete>
            
                <ng-template #itemTemplate let-item >
                    <a [innerHTML]="item.value"></a>
                </ng-template>
            
                <ng-template #notFoundTemplate let-notFound  >
                    <div [innerHTML]="notFound"></div>
                </ng-template>
              </div>
            </div>
          </div>
          <div class="col-lg-3">
              <div class="form-outline">
                  <strong class="form-label" for="form3Examplev5">Servicio</strong>
                  <div >
                  <ng-autocomplete  [data]="serviceList" [searchKeyword]="keyword" 
                                  placeholder="Seleccionar Servicio" (selected)='getReplacement($event)'
                                  [itemTemplate]="itemTemplate" [notFoundTemplate]="notFoundTemplate">                                 
                  </ng-autocomplete>
              
                  <ng-template #itemTemplate let-item >
                      <a [innerHTML]="item.value"></a>
                  </ng-template>
              
                  <ng-template #notFoundTemplate let-notFound  >
                      <div [innerHTML]="notFound"></div>
                  </ng-template>
                </div>
              </div>
          </div>

          <!-- <div class="image-container"></div> -->
        </div>
    </div>
  </div>
  <div class=" ml-2">
    <div class="col">
      <div class="card-provider" style="--bs-gutter-x: 2.8rem; margin-top: 15px;" *ngIf="activeProviders">
        <p class="title">Lista de Proveedores</p>
        <div class="user__container">

            <div class="card-error container registration-form" *ngIf="activateError">
              <a class="card1">
              <p>Error</p>
              <p class="small">{{this.errorMessage}}</p>
              <div class="go-corner">
                <div class="go-arrow">
                  →
                </div>
              </div>
            </a>
          </div>
          <div class="loader container registration-form" *ngIf="activateLoader"></div>

          <div formArrayName="proveedores" >
            <table style="--bs-gutter-x: 2.8rem; margin-top: 15px;" *ngIf="providerList && providerList.length > 0">
              <thead class="thead-light"> 
                <tr>
                  <th scope="col">Proveedor</th>
                  <th scope="col">Teléfono</th>
                  <th scope="col" *ngIf="replacement" >Repuestos</th>
                  <th scope="col">Cantidad</th>
                  <th scope="col">Monto</th>
                  <th scope="col">Elección</th>
                </tr>
              </thead>
              <tbody *ngFor="let creds of proveedores.controls; let i=index">
                <tr  [formGroupName]="i">

                  <td>{{ creds.value.xproveedor }}</td>

                  <td>{{ creds.value.xtelefono }}</td>

                  <td *ngIf="replacement">
                    <div class="col-lg-3" >
                      <div class="form-outline">
                          <strong class="form-label">Repuestos</strong>
                          <div >
                          <ng-autocomplete  
                          [data]="replacementList" 
                          [searchKeyword]="keyword" 
                          formControlName="crepuesto"
                          placeholder="Seleccionar Repuesto" 
                          [itemTemplate]="itemTemplate" 
                          [notFoundTemplate]="notFoundTemplate">                                 
                          </ng-autocomplete>
                      
                          <ng-template #itemTemplate let-item >
                              <a [innerHTML]="item.value"></a>
                          </ng-template>
                      
                          <ng-template #notFoundTemplate let-notFound  >
                              <div [innerHTML]="notFound"></div>
                          </ng-template>
                        </div>
                      </div>
                  </div>
                  </td>

                  <td class="items">
                    <input type="number" formControlName="cantidad" class="form-control form-control-alternative" />
                  </td>

                  <td class="items">
                    <input type="number" formControlName="monto" class="form-control form-control-alternative" />
                  </td>

                  <td><button class="follow">Elegir</button></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="display: grid;place-items: center;margin-top: 27px;">
            <ngb-pagination [(page)]="currentPage" [pageSize]="itemsPerPage" [collectionSize]="providerList.length" [maxSize]="5" [rotate]="true"></ngb-pagination>
          </div>

        </div>
      </div>
    </div>
    <div class="flex flex-col bg-white rounded-3xl position-fixed">
      <div class="px-6 py-8 sm:p-10 sm:pb-6">
        <div class="grid items-center justify-center w-full grid-cols-1 text-left">
          <div>
            <h2 class=
            "text-lg font-medium tracking-tighter text-gray-600 lg:text-3xl">
            Starter</h2>
            <p class="mt-2 text-sm text-gray-500">Suitable to grow steadily.</p>
          </div>
          <div class="mt-6">
            <p><span class="text-5xl font-light tracking-tight text-black">$25</span>
            <span class="text-base font-medium text-gray-500">/mo</span></p>
          </div>
        </div>
      </div>
      <div class="flex px-6 pb-8 sm:px-8">
        <a aria-describedby="tier-company" class=
        "items-center justify-center w-full px-6 py-2.5 text-center text-white duration-200 bg-black border-2 border-black rounded-full nline-flex hover:bg-transparent hover:border-black hover:text-black focus:outline-none focus-visible:outline-black text-sm focus-visible:ring-black"
        href="#">Get started</a>
      </div>
    </div>
  </div>
</form>
<app-footer></app-footer>